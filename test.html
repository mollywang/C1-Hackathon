<!DOCTYPE html>
<html lang="en-US">
<!-- THIS IS THE CALL TO ANGULAR JS-->
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.js"></script>

<!--- This is adding the Nessie Javascript Wrapper -->
<script data-main="Nessie-Javascript-Wrapper/lib/capital_one" src="Nessie-Javascript-Wrapper/lib/require-jquery.js"></script>

<!-- The noUiSlider script and stylesheet -->
<!-- Use the files with *.min.* for the minified versions. -->
<link href="jquery.nouislider.min.css" rel="stylesheet">

<!-- Use the 'all' version to get all documented features. -->
<!-- Includes wNumb, libLink and the pips add-on -->
<script src="jquery.nouislider.all.min.js"></script>

<!-- Bootstrap -->
<link href="css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="css/custom.css">

<body ng-app="myApp" ng-controller="ListController">

<nav class="navbar">
    <div class="nav-container">
      <span class="nav-left nav-section">Capital One</span>

        <span class="nav-mid nav-section">Personal</span>
        <span class="nav-mid nav-section">Business</span>
        <span class="nav-mid nav-section">Commercial</span>
     
      <span class="nav-right nav-section">Search</span>
      <span class="nav-right nav-section">Locations</span>      
      <span class="nav-right nav-section">Sign In</span>

    </div>
  </nav>

<div class = "row">
<div id="slider" />
</div>

<br />

<div class="row">
  <div class = "col-md-8 col-md-offset-2">
	  <div class="panel panel-default">
	  <!-- Default panel contents -->
	    <div class="panel-heading">Expense History</div>
	    <!-- Table -->
	    <table class="table table-hover">
	       <!-- Dummy Data -->
	      <!-- <thead>
	        <tr>
	          <th>Company</th>
	          <th>Spent</th>
	        </tr>
	      </thead> -->
	      <tbody>
	      	<tr ng-repeat="item in items">
	          <td>{{item[0]}}</td>
	          <td>${{item[1]}}</td>
	        </tr>
	      </tbody>
	    </table> 
	</div>
</div>

 </div>

<script>

$(function(){
	require(['account', 'atm', 'branch', 'customer', 'deposit', 'transaction', 'withdrawal', 'bills'], function (account, atm, branch, customer, deposit, transaction, withdrawal, bills) {
		var apikey = '4baacf4ff89dcf34346063a26c8b7d0b';
		//var custAccount = account.initWithKey(apikey);
		//var customer = custAccount.getAll()[0];
		//accountDemo(apikey, account);
		//atmDemo(apikey, atm);
		billDemo(apikey, bills);
		//branchDemo(apikey, branch);
		// customerDemo(apikey, customer);
		//depositDemo(apikey, deposit);	
		//transactionDemo(apikey, account, transaction);
		//withdrawalDemo(apikey, withdrawal);
	});
});

function billDemo (apikey, bills) {
	var bm = bills.initWithKey(apikey);
	// console.log("[Customer Account Bills] : " + JSON.stringify(bm.getAllBillsByAccountId("555bed95a520e036e52b2680")));
}

function customerDemo (apikey, customer) {
	var customerAccount = customer.initWithKey(apikey);
	console.log("[Customer - Get All] : Sample Customer: " + customerAccount.getAll()[0].account_ids);
	console.log("[Customer - Get All] : Sample Customer: " + customerAccount.getAll()[0]._id);
	console.log("[Customer - Get One] : Sample Customer" + customerAccount.getOne('555bed95a520e036e52b20c6').first_name);
	console.log("[Customer - Get OneByAccount] : Sample Customer" + customerAccount.getOneByAcountId('555bed95a520e036e52b2787'));
	var customerInfo = "{\"address\": {\"street_number\": \"8020\",\"street_name\": \"Greenroad Dr\",\"city\": \"McLean\",\"state\": \"VA\",\"zip\": \"22102\"}}";
	console.log("[Customer - Update Customer] :" + customerAccount.updateCustomer('555bed95a520e036e52b20c6', customerInfo));
}

var app = angular.module('myApp',[]);
app.controller('ListController', function($scope) {
    $scope.items = [["Uber","200"],["Costco","40"],["Starbucks","5"]]
});

console.log($("#slider"))

$("#slider").noUiSlider({
	start: [20, 80],
	connect: true,
	range: {
		'min': 0,
		'max': 100
	}
});

</script>

<script src="js/bootstrap.min.js"></script>

</body>


</html>
